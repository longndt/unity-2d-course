<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <title>Quiz - Physics & Collision</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; line-height: 1.6; }
    .container { max-width: 800px; margin: 0 auto; }
    .header { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); margin-bottom: 30px; text-align: center; }
    .header h1 { color: #667eea; margin-bottom: 10px; }
    .progress-bar { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); margin-bottom: 30px; }
    .progress-info { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 14px; color: #666; }
    .progress-track { width: 100%; height: 10px; background: #e0e0e0; border-radius: 5px; overflow: hidden; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); transition: width 0.3s ease; }
    .quiz-card { background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); margin-bottom: 30px; }
    .question-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .question-number { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 600; }
    .question-text { font-size: 20px; font-weight: 600; color: #333; margin-bottom: 30px; line-height: 1.6; }
    .options { margin-bottom: 30px; }
    .option { background: #f8f9fa; padding: 15px 20px; margin-bottom: 12px; border-radius: 10px; cursor: pointer; transition: all 0.2s ease; border: 2px solid transparent; }
    .option:hover { background: #e9ecef; transform: translateX(5px); }
    .option.selected { background: #e7e5ff; border-color: #667eea; }
    .option label { cursor: pointer; display: flex; align-items: center; width: 100%; }
    .option input[type="radio"] { margin-right: 15px; cursor: pointer; width: 20px; height: 20px; }
    .question-text code, .option code { background: #f1f5f9; padding: 3px 8px; border-radius: 6px; font-family: 'Consolas', 'Monaco', 'Courier New', monospace; font-size: 16px; color: #e11d48; font-weight: 600; border: 1px solid #e2e8f0; }
    .short-answer-container { margin-bottom: 40px; }
    .short-answer-input { width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 16px; font-family: inherit; transition: border-color 0.3s ease; }
    .short-answer-input:focus { outline: none; border-color: #667eea; }
    .buttons { display: flex; gap: 15px; justify-content: space-between; }
    .btn { padding: 12px 30px; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
    .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4); }
    .btn-secondary { background: white; color: #667eea; border: 2px solid #667eea; }
    .btn-secondary:hover { background: #f8f9fa; }
    .btn:disabled { opacity: 0.4; cursor: not-allowed; }
    .results-card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); text-align: center; }
    .score-circle { width: 140px; height: 140px; margin: 20px auto; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; }
    .score-number { font-size: 42px; font-weight: bold; }
    .score-label { font-size: 13px; margin-top: 5px; }
    .score-details { margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 10px; }
    .score-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e0e0e0; font-size: 14px; }
    .score-row:last-child { border-bottom: none; }
    .hidden { display: none; }
    .short-answer-input.correct { border-color: #10b981; background: #d1fae5; }
    .short-answer-input.incorrect { border-color: #ef4444; background: #fee2e2; }
    .option.correct { background: #d1fae5; border-color: #10b981; }
    .option.incorrect { background: #fee2e2; border-color: #ef4444; }
    .feedback-icon { margin-left: auto; font-size: 22px; font-weight: bold; }
    .answer-feedback { margin-top: 15px; padding: 14px 18px; border-radius: 10px; font-size: 15px; font-weight: 600; display: none; }
    .answer-feedback.show { display: block; }
    .answer-feedback.correct { background: #d1fae5; color: #065f46; border-left: 4px solid #10b981; }
    .answer-feedback.incorrect { background: #fee2e2; color: #991b1b; border-left: 4px solid #ef4444; }
    .feedback { margin-top: 15px; padding: 15px; border-radius: 10px; font-size: 15px; }
    .feedback.excellent { background: #d4edda; color: #155724; }
    .feedback.good { background: #d1ecf1; color: #0c5460; }
    .feedback.average { background: #fff3cd; color: #856404; }
    .feedback.needs-improvement { background: #f8d7da; color: #721c24; }
    @media (max-width: 600px) { .quiz-card, .results-card { padding: 20px; } .question-text { font-size: 18px; } .buttons { flex-direction: column; } .btn { width: 100%; } }
  </style>
</head>
<body>
  <div class="container">
    <header class="header"><h1>Quiz - Physics & Collision</h1></header>
    <main>
      <section class="progress-bar" id="progressBar">
        <div class="progress-info">
          <span id="progressText">Question 1 of 20</span>
          <span id="answeredText">Answered: 0/20</span>
        </div>
        <div class="progress-track"><div class="progress-fill" id="progressFill"></div></div>
      </section>
      <article class="quiz-card" id="quizCard">
        <div class="question-header"><span class="question-number" id="questionNumber">Question 1</span></div>
        <h2 class="question-text" id="questionText"></h2>
        <fieldset class="options" id="optionsContainer"></fieldset>
        <div class="short-answer-container hidden" id="shortAnswerContainer">
          <input type="text" class="short-answer-input" id="shortAnswerInput" placeholder="Type your answer here..." />
          <div class="answer-feedback" id="shortAnswerFeedback"></div>
          <div style="margin-top: 15px; text-align: center;">
            <button class="btn btn-secondary" id="skipBtn">Skip Question</button>
          </div>
        </div>
        <nav class="buttons">
          <button class="btn btn-secondary" id="prevBtn" disabled>‚Üê Previous</button>
          <button class="btn btn-primary" id="nextBtn" disabled>Next ‚Üí</button>
        </nav>
      </article>
    </main>
    <section class="results-card hidden" id="resultsCard">
      <h2 style="color: #667eea; margin-bottom: 12px; font-size: 24px">Quiz Completed!</h2>
      <div class="score-circle">
        <div class="score-number" id="scoreNumber">0%</div>
        <div class="score-label">Your Score</div>
      </div>
      <div class="score-details">
        <div class="score-row"><span><strong>Total Questions:</strong></span><span id="totalQuestions">20</span></div>
        <div class="score-row"><span><strong>Answered:</strong></span><span id="answeredCount">0</span></div>
        <div class="score-row"><span><strong>Correct:</strong></span><span id="correctCount">0</span></div>
        <div class="score-row"><span><strong>Skipped:</strong></span><span id="skippedCount">0</span></div>
      </div>
      <div class="feedback" id="feedback"></div>
      <button class="btn btn-primary" style="margin-top: 20px" onclick="location.reload()">Retake Quiz</button>
    </section>
  </div>
  <script>
    const quizData = [
      { type: "multiple", question: "What physics engine does Unity 2D use?", options: ["Unity Physics", "Box2D", "Havok", "Bullet"], correct: 1 },
      { type: "multiple", question: "What is the difference between Dynamic and Kinematic Rigidbody2D?", options: ["Dynamic is affected by physics, Kinematic is script-controlled", "Kinematic is faster", "Dynamic is for 2D, Kinematic is for 3D", "There is no difference"], correct: 0 },
      { type: "multiple", question: "What method should you use for physics movement?", options: ["Update()", "FixedUpdate()", "LateUpdate()", "OnGUI()"], correct: 1 },
      { type: "multiple", question: "What is the purpose of Physics Material 2D?", options: ["To change sprite appearance", "To define friction and bounciness properties", "To control animation", "To manage scenes"], correct: 1 },
      { type: "multiple", question: "What is the difference between OnCollisionEnter2D and OnTriggerEnter2D?", options: ["OnCollisionEnter2D is for solid collisions, OnTriggerEnter2D is for detection without physics", "OnTriggerEnter2D is faster", "There is no difference", "OnCollisionEnter2D is deprecated"], correct: 0 },
      { type: "multiple", question: "What property must be set to make a Collider2D act as a trigger?", options: ["isTrigger = true", "isCollider = false", "trigger = true", "collision = false"], correct: 0 },
      { type: "multiple", question: "What is Gravity Scale used for in Rigidbody2D?", options: ["To change sprite size", "To control how much gravity affects the object (1.0 = normal, 0.0 = no gravity)", "To set animation speed", "To control physics material"], correct: 1 },
      { type: "multiple", question: "What is the best collider type for rectangular platforms?", options: ["CircleCollider2D", "BoxCollider2D", "PolygonCollider2D", "EdgeCollider2D"], correct: 1 },
      { type: "multiple", question: "What is the best collider type for circular objects like balls?", options: ["BoxCollider2D", "CircleCollider2D", "PolygonCollider2D", "EdgeCollider2D"], correct: 1 },
      { type: "multiple", question: "What does 'Freeze Rotation' do in Rigidbody2D?", options: ["Prevents the object from rotating", "Makes rotation faster", "Changes rotation direction", "Disables physics"], correct: 0 },
      { type: "multiple", question: "What is Mass in Rigidbody2D used for?", options: ["To change sprite size", "To determine how heavy an object is (affects collision response)", "To control animation", "To set color"], correct: 1 },
      { type: "multiple", question: "What is a Physics Layer used for?", options: ["To organize sprites", "To control which objects can collide with each other", "To set animation layers", "To manage scenes"], correct: 1 },
      { type: "multiple", question: "What method is called every frame while two objects are colliding?", options: ["OnCollisionEnter2D", "OnCollisionStay2D", "OnCollisionExit2D", "OnCollisionUpdate2D"], correct: 1 },
      { type: "multiple", question: "What is Raycast2D used for?", options: ["To draw lines", "To detect objects in a specific direction (ground detection, etc.)", "To create animations", "To manage UI"], correct: 1 },
      { type: "multiple", question: "What is the purpose of Physics2D.OverlapCircle?", options: ["To draw a circle", "To detect all colliders within a circular area", "To create circular sprites", "To rotate objects"], correct: 1 },
      { type: "short", question: "What component is required for physics simulation in 2D?", answer: "Rigidbody2D" },
      { type: "short", question: "What method is called when a trigger collision starts?", answer: "OnTriggerEnter2D" },
      { type: "short", question: "What is the default gravity scale value?", answer: "1" },
      { type: "short", question: "What property of Rigidbody2D controls air resistance?", answer: "drag" },
      { type: "short", question: "What is the name of the physics material property that controls bounce?", answer: "bounciness" },
    ];
    let currentQuestion = 0;
    let userAnswers = new Array(quizData.length).fill(null);
    let answerChecked = new Array(quizData.length).fill(false);
    const progressText = document.getElementById("progressText");
    const answeredText = document.getElementById("answeredText");
    const progressFill = document.getElementById("progressFill");
    const questionNumber = document.getElementById("questionNumber");
    const questionText = document.getElementById("questionText");
    const optionsContainer = document.getElementById("optionsContainer");
    const shortAnswerContainer = document.getElementById("shortAnswerContainer");
    const shortAnswerInput = document.getElementById("shortAnswerInput");
    const shortAnswerFeedback = document.getElementById("shortAnswerFeedback");
    const skipBtn = document.getElementById("skipBtn");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const quizCard = document.getElementById("quizCard");
    const resultsCard = document.getElementById("resultsCard");
    function init() {
      quizData.forEach(question => {
        if (question.type === "multiple") {
          const correctAnswer = question.options[question.correct];
          const shuffled = [...question.options];
          for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
          }
          question.options = shuffled;
          question.correct = shuffled.indexOf(correctAnswer);
        }
      });
      showQuestion(currentQuestion);
    }
    function checkAnswer(index, selectedOption) {
      const question = quizData[index];
      answerChecked[index] = true;
      const options = document.querySelectorAll(".option");
      options.forEach((opt, i) => {
        const input = opt.querySelector("input");
        input.disabled = true;
        opt.style.cursor = "default";
        if (i === question.correct) {
          opt.classList.add("correct");
          opt.classList.remove("selected");
          const icon = document.createElement("span");
          icon.className = "feedback-icon";
          icon.textContent = "‚úì";
          opt.querySelector("label").appendChild(icon);
        } else if (i === selectedOption) {
          opt.classList.add("incorrect");
          opt.classList.remove("selected");
          const icon = document.createElement("span");
          icon.className = "feedback-icon";
          icon.textContent = "‚úó";
          opt.querySelector("label").appendChild(icon);
        }
      });
      nextBtn.disabled = false;
    }
    function checkShortAnswer(index, answer) {
      const question = quizData[index];
      answerChecked[index] = true;
      const isCorrect = answer.toLowerCase().trim() === question.answer.toLowerCase().trim();
      shortAnswerInput.disabled = true;
      shortAnswerInput.classList.add(isCorrect ? "correct" : "incorrect");
      shortAnswerFeedback.classList.add("show", isCorrect ? "correct" : "incorrect");
      shortAnswerFeedback.textContent = isCorrect ? `‚úì Correct! The answer is "${question.answer}"` : `‚úó Incorrect. The correct answer is "${question.answer}"`;
      nextBtn.disabled = false;
    }
    function showQuestion(index) {
      const question = quizData[index];
      questionNumber.textContent = `Question ${index + 1}`;
      questionText.textContent = question.question || "Question text missing";
      progressText.textContent = `Question ${index + 1} of ${quizData.length}`;
      const answered = userAnswers.filter((a) => a !== null).length;
      answeredText.textContent = `Answered: ${answered}/${quizData.length}`;
      progressFill.style.width = `${((index + 1) / quizData.length) * 100}%`;
      optionsContainer.innerHTML = "";
      shortAnswerInput.value = "";
      shortAnswerFeedback.classList.remove('show', 'correct', 'incorrect');
      shortAnswerFeedback.textContent = "";
      if (question.type === "multiple") {
        optionsContainer.classList.remove("hidden");
        shortAnswerContainer.classList.add("hidden");
        question.options.forEach((option, i) => {
          const div = document.createElement("div");
          div.className = "option";
          if (answerChecked[index]) {
            if (i === question.correct) {
              div.classList.add("correct");
            } else if (userAnswers[index] === i && i !== question.correct) {
              div.classList.add("incorrect");
            }
          } else if (userAnswers[index] === i) {
            div.classList.add("selected");
          }
          div.innerHTML = `<label><input type="radio" name="answer" value="${i}" ${userAnswers[index] === i ? "checked" : ""} ${answerChecked[index] ? "disabled" : ""}><span>${option}</span>${answerChecked[index] && i === question.correct ? '<span class="feedback-icon">‚úì</span>' : ''}${answerChecked[index] && userAnswers[index] === i && i !== question.correct ? '<span class="feedback-icon">‚úó</span>' : ''}</label>`;
          if (!answerChecked[index]) {
            div.addEventListener("click", (e) => {
              e.preventDefault();
              e.stopPropagation();
              if (!answerChecked[index]) {
                document.querySelectorAll(".option").forEach((o) => o.classList.remove("selected"));
                div.classList.add("selected");
                div.querySelector("input").checked = true;
                userAnswers[index] = i;
                checkAnswer(index, i);
              }
            });
          }
          optionsContainer.appendChild(div);
        });
      } else {
        optionsContainer.classList.add("hidden");
        shortAnswerContainer.classList.remove("hidden");
        if (userAnswers[index]) {
          shortAnswerInput.value = userAnswers[index];
          if (answerChecked[index]) {
            checkShortAnswer(index, userAnswers[index]);
          }
        }
        shortAnswerInput.disabled = answerChecked[index];
        shortAnswerInput.oninput = () => {
          userAnswers[index] = shortAnswerInput.value.trim();
          updateProgress();
          if (userAnswers[index] && !answerChecked[index]) {
            nextBtn.disabled = false;
          } else if (!userAnswers[index] && !answerChecked[index]) {
            nextBtn.disabled = true;
          }
        };
        shortAnswerInput.onblur = () => {
          if (userAnswers[index] && !answerChecked[index]) {
            checkShortAnswer(index, userAnswers[index]);
            shortAnswerInput.blur();
          }
        };
        shortAnswerInput.onkeypress = (e) => {
          if (e.key === 'Enter' && userAnswers[index] && !answerChecked[index]) {
            checkShortAnswer(index, userAnswers[index]);
            shortAnswerInput.blur();
          }
        };
        skipBtn.onclick = () => {
          if (!answerChecked[index]) {
            userAnswers[index] = "";
            answerChecked[index] = true;
            shortAnswerInput.disabled = true;
            skipBtn.disabled = true;
            nextBtn.disabled = false;
            updateProgress();
          }
        };
      }
      prevBtn.disabled = index === 0;
      nextBtn.textContent = index === quizData.length - 1 ? "Submit Quiz" : "Next ‚Üí";
      if (question.type === "short") {
        nextBtn.disabled = !answerChecked[index] && (!userAnswers[index] || userAnswers[index].trim() === '');
      } else {
        nextBtn.disabled = !answerChecked[index];
      }
    }
    function updateProgress() {
      const answered = userAnswers.filter((a) => a !== null && a !== "").length;
      answeredText.textContent = `Answered: ${answered}/${quizData.length}`;
    }
    nextBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (answerChecked[currentQuestion]) {
        if (currentQuestion < quizData.length - 1) {
          currentQuestion++;
          showQuestion(currentQuestion);
        } else {
          showResults();
        }
      }
    });
    prevBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion(currentQuestion);
      }
    });
    function showResults() {
      let correct = 0;
      let answered = 0;
      quizData.forEach((question, index) => {
        const userAnswer = userAnswers[index];
        if (userAnswer !== null && userAnswer !== "") {
          answered++;
          if (question.type === "multiple") {
            if (userAnswer === question.correct) {
              correct++;
            }
          } else {
            if (userAnswer.toLowerCase().trim() === question.answer.toLowerCase().trim()) {
              correct++;
            }
          }
        }
      });
      const skipped = quizData.length - answered;
      const percentage = answered > 0 ? (correct / answered) * 100 : 0;
      document.getElementById("scoreNumber").textContent = Math.round(percentage) + "%";
      document.getElementById("totalQuestions").textContent = quizData.length;
      document.getElementById("answeredCount").textContent = answered;
      document.getElementById("correctCount").textContent = correct;
      document.getElementById("skippedCount").textContent = skipped;
      const feedback = document.getElementById("feedback");
      if (percentage >= 90) {
        feedback.className = "feedback excellent";
        feedback.textContent = "üåü Excellent! You have a strong grasp of physics and collision!";
      } else if (percentage >= 70) {
        feedback.className = "feedback good";
        feedback.textContent = "üëç Good job! You understand most physics concepts well!";
      } else if (percentage >= 50) {
        feedback.className = "feedback average";
        feedback.textContent = "üìö Not bad! Review the materials to improve your understanding.";
      } else {
        feedback.className = "feedback needs-improvement";
        feedback.textContent = "üí™ Keep studying! Practice more to master physics and collision.";
      }
      quizCard.classList.add("hidden");
      document.getElementById("progressBar").classList.add("hidden");
      resultsCard.classList.remove("hidden");
    }
    init();
  </script>
</body>
</html>
